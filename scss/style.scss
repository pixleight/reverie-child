/* This is the Sass/Scss file loaded by WordPress in frontend.
 * Tweak it and have fun.
 */

// Load Reverie parent CSS, you will not want to uncomment it.
@import '../../reverie/scss/style.scss';

// Global Foundation Settings, should be on to allow you to retrieve value. Note this _settings.scss is the same copy from the framework/parent theme.
@import "settings";

// Pagination is not necessary by default, but if you wish to edit it, simply uncomment to enable the Mixin.
// @import "foundation/components/pagination";

@import "compass/css3";

// Start your child theme customization below.
body {
	background-color: $body-bg;
	
	&:after {
		content: "";
		top: 0;
		right: 0;
		bottom: 0;
		left: 0;
		position: absolute;
		z-index: -1;

		opacity: 0.85;
		background-image: url(../images/ksc-aerial2.jpg);
		background-position: 50% 0;
		background-repeat: no-repeat;
		background-size: contain;
	}

	&.home {
		&:after {
			display: none;
		}
	}

	> header.contain-to-grid {
		@include box-shadow(
			0 3px 5px rgba(#000,0.25)
		);

		@media #{$medium-up} {
			position: fixed;
			border-top: 2rem solid rgba(#FFF, 0.9);
			top: 0;
			z-index: 100;
			margin-bottom: 0;
			@include box-shadow(
				0 3px 5px rgba(#000,0.25),
				0 -2rem 4rem 3rem rgba(#FFF, 0.60)
			);
		}
	}

	&.admin-bar {
		> header.contain-to-grid {
			@media #{$medium-up} {
				top: 2rem;
			}
		}
	}

	@media #{$medium-up} {
		padding-top: 8rem;
	}
}

.top-bar {
	.name {
		h1 {
			@media #{$medium-up} {
				position: relative;
				top: -1.5rem;
				border: 1px solid #FFF;
				padding: 10px;
				background-color: mix(#FFF, #F0F0F0);
				@include background-image(linear-gradient(#FFF, #F0F0F0));
				@include border-radius(3px);
				@include box-shadow(0 3px 5px rgba(#000,0.25));
			}

			a {
				width: 70%;
				font-family: $header-font-family;
				font-weight: 700;

				@media #{$medium-up} {
					height: 82px;
					overflow: hidden;
					white-space: nowrap;
					width: 290px;
					margin: 0;
					padding: 0;
					text-indent: 150%;
					background: transparent url(../images/logo.png) 50% 0 no-repeat;

					@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) { 
						background-image: url(../images/logo-2x.png);
						background-size: contain;
					}
				}

				@media #{$screen} and (min-width: #{upper-bound($small-range)}) and (max-width: 48.4375em) {
					width: 165px;
					height: 45px;
				}
			}

		}
	}
}

#content {
	background-color: rgba(#FFF, 0.75);
	@include text-shadow(0 1px 0 #FFF);

	&.front-page {
		padding: 0;

		article {
			padding: 0;
			min-height: 35rem;
			background-position: 50% 50%;
			background-repeat: no-repeat;
			background-size: cover;
			background-attachment: fixed;
			@include text-shadow(0 1px 1px rgba(#000, 0.25));

			p {
				font-weight: 100;
				font-size: 1rem;

				@media #{$medium-up} {
					font-size: 1.75rem;
				}
			}

			h2 {
				color: #FFF;
			}

			.article-padding {
				padding: 8rem 3.125rem 3.125rem;

				@media #{$small-only} {
					padding: 2rem;
				}
			}

			.article-content {
				color: #FFF;
				width: 75%;
				background: rgba($primary-color, 0.75);
				padding: (3.125rem/3) 3.125rem;
				@include box-shadow(0 1px 0 rgba(#FFF, 0.6));

				@media #{$small-only} {
					width: 100%;
				}
			}
		}
	}
}

[data-magellan-expedition] {
	opacity: 0;
	position: fixed;
	z-index: 100;
	right: 0;
	left: auto;
	width: auto;
	min-width: 0;
	top: 6rem !important;
	background: rgba(#FFF, 0.8);
	@include transition(opacity 0.5s ease-in);
	@include box-shadow(0 5px 15px rgba(#000, 0.25));

	.sub-nav {
		dd {
			display: block;
			float: none;
		}
	}

	&.fixed {
		opacity: 1;
	}

	@media #{$small-only} {
		display: none !important;
	}
}

#sidebar, .footer-widget {
	.panel {
		background-color: $panel-bg;
		border: $panel-border-size $panel-border-style $panel-border-color;
	}
}

/* --------------------
 *	Tribe Events
 * -------------------- */

#tribe-events-pg-template {
	@extend #content;
	padding: 0;
}

#tribe-events-pg-template {
	max-width: none;
	padding: 3.125rem;
}

.events-list .tribe-events-loop,
.tribe-events-day .tribe-events-loop,
.single-tribe_venue .tribe-events-loop,
.single-tribe_organizer .tribe-events-loop {
	max-width: none;
}

.tribe-events-list {
	h2 {
		&.tribe-events-list-event-title {
			display: block;
		}
	}
}
